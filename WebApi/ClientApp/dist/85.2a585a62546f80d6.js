"use strict";(self.webpackChunkxtreme_admin_angular=self.webpackChunkxtreme_admin_angular||[]).push([[85],{3085:(D,d,s)=>{s.r(d),s.d(d,{UsuarioModule:()=>Q});var p=s(6895),r=s(4006),_=s(911),Z=s(9340),g=s(2654),x=s(4691),a=s(6137),v=s(13),h=s(3230),t=s(4650),c=s(3609),T=s(861),f=s(6541);function U(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.qZA(),t.TgZ(15,"td"),t._uU(16),t.qZA(),t.TgZ(17,"td"),t._uU(18),t.qZA(),t.TgZ(19,"td")(20,"a",17),t.NdJ("click",function(){const m=t.CHM(e).$implicit,l=t.oxw(),O=t.MAs(42);return t.KtG(l.openModal(O,m))}),t._UZ(21,"i-feather",18),t.qZA(),t.TgZ(22,"a",19),t.NdJ("click",function(){const m=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.delete(m.usuId))}),t._UZ(23,"i-feather",20),t.qZA()()()}if(2&o){const e=n.$implicit;t.xp6(2),t.hij("",e.usuNombres," "),t.xp6(2),t.hij("",e.usuApellidos," "),t.xp6(2),t.hij("",e.usuCedula," "),t.xp6(2),t.hij("",e.usuDireccion," "),t.xp6(2),t.hij("",e.usuTelefono," "),t.xp6(2),t.hij("",e.usuSexo," "),t.xp6(2),t.hij("",e.usuFechaNacimiento," "),t.xp6(2),t.hij("",e.usuEmail," "),t.xp6(2),t.hij("",e.usuEstado?"Activo":"Inactivo"," ")}}function b(o,n){if(1&o&&(t.TgZ(0,"option",51),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",null==e?null:e.nombre,"")}}function A(o,n){if(1&o&&(t.TgZ(0,"span",52),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.formsErrors.usuNombres," ")}}function C(o,n){if(1&o&&(t.TgZ(0,"span",52),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.formsErrors.usuApellidos," ")}}function q(o,n){if(1&o&&(t.TgZ(0,"span",52),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.formsErrors.usuCedula," ")}}function E(o,n){if(1&o&&(t.TgZ(0,"span",52),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.formsErrors.usuDireccion," ")}}function I(o,n){if(1&o&&(t.TgZ(0,"span",52),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.formsErrors.usuTelefono," ")}}function F(o,n){if(1&o&&(t.TgZ(0,"span",52),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.formsErrors.usuSexo," ")}}function N(o,n){if(1&o&&(t.TgZ(0,"span",52),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.formsErrors.usuFechaNacimiento," ")}}function S(o,n){if(1&o&&(t.TgZ(0,"span",52),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.formsErrors.usuEmail," ")}}function P(o,n){1&o&&(t.TgZ(0,"span",53),t._uU(1," Correo el\xe9ctronico no puede tener espacios "),t.qZA())}function y(o,n){if(1&o&&(t.TgZ(0,"span",52),t._uU(1),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.hij(" ",e.formsErrors.usuPassword," ")}}function J(o,n){1&o&&(t.TgZ(0,"span",53),t._uU(1,"Contrase\xf1a no puede tener espacios "),t.qZA())}function k(o,n){if(1&o&&(t.TgZ(0,"div",27)(1,"label",33),t._uU(2,"Contrase\xf1a"),t.qZA(),t.TgZ(3,"div",29),t._UZ(4,"input",54),t.YNc(5,y,2,1,"span",35),t.YNc(6,J,2,0,"span",43),t.qZA()()),2&o){const e=t.oxw(2);t.xp6(5),t.Q6J("ngIf",e.formsErrors.usuPassword),t.xp6(1),t.Q6J("ngIf",e.itemForm.controls.usuPassword.hasError("cannotContainSpace"))}}function M(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",21)(1,"h5",22),t._uU(2),t.qZA(),t.TgZ(3,"button",23),t.NdJ("click",function(){t.CHM(e);const u=t.oxw();return t.KtG(u.closeBtnClick())}),t.TgZ(4,"span",24),t._uU(5,"\xd7"),t.qZA()()(),t.TgZ(6,"div",25)(7,"form",26),t.NdJ("ngSubmit",function(){t.CHM(e);const u=t.oxw();return t.KtG(u.onSubmit())}),t.TgZ(8,"div",27)(9,"label",28),t._uU(10,"Perfil *"),t.qZA(),t.TgZ(11,"div",29)(12,"select",30)(13,"option",31),t._uU(14,"Seleccionar "),t.qZA(),t.YNc(15,b,2,2,"option",32),t.qZA()()(),t.TgZ(16,"div",27)(17,"label",33),t._uU(18,"Nombres *"),t.qZA(),t.TgZ(19,"div",29),t._UZ(20,"input",34),t.YNc(21,A,2,1,"span",35),t.qZA()(),t.TgZ(22,"div",27)(23,"label",33),t._uU(24,"Apellidos *"),t.qZA(),t.TgZ(25,"div",29),t._UZ(26,"input",36),t.YNc(27,C,2,1,"span",35),t.qZA()(),t.TgZ(28,"div",27)(29,"label",33),t._uU(30,"C\xe9dula *"),t.qZA(),t.TgZ(31,"div",29),t._UZ(32,"input",37),t.YNc(33,q,2,1,"span",35),t.qZA()(),t.TgZ(34,"div",27)(35,"label",33),t._uU(36,"Direcci\xf3n *"),t.qZA(),t.TgZ(37,"div",29),t._UZ(38,"input",38),t.YNc(39,E,2,1,"span",35),t.qZA()(),t.TgZ(40,"div",27)(41,"label",33),t._uU(42,"Tel\xe9fono *"),t.qZA(),t.TgZ(43,"div",29),t._UZ(44,"input",39),t.YNc(45,I,2,1,"span",35),t.qZA()(),t.TgZ(46,"div",27)(47,"label",33),t._uU(48,"Sexo *"),t.qZA(),t.TgZ(49,"div",29),t._UZ(50,"input",40),t.YNc(51,F,2,1,"span",35),t.qZA()(),t.TgZ(52,"div",27)(53,"label",33),t._uU(54,"Fecha Nacimiento *"),t.qZA(),t.TgZ(55,"div",29),t._UZ(56,"input",41),t.YNc(57,N,2,1,"span",35),t.qZA()(),t.TgZ(58,"div",27)(59,"label",33),t._uU(60,"Correo el\xe9ctronico *"),t.qZA(),t.TgZ(61,"div",29),t._UZ(62,"input",42),t.YNc(63,S,2,1,"span",35),t.YNc(64,P,2,0,"span",43),t.qZA()(),t.YNc(65,k,7,2,"div",44),t.TgZ(66,"div",27)(67,"div",45),t._UZ(68,"input",46),t.TgZ(69,"label",47),t._uU(70,"Activo"),t.qZA()()(),t.TgZ(71,"div",48)(72,"button",49),t.NdJ("click",function(){t.CHM(e);const u=t.oxw();return t.KtG(u.closeBtnClick())}),t._uU(73,"Cerrar"),t.qZA(),t.TgZ(74,"button",50),t._uU(75,"Guardar"),t.qZA()()()()}if(2&o){const e=t.oxw();t.xp6(2),t.hij("",e.anadirEditar," Usuario"),t.xp6(5),t.Q6J("formGroup",e.itemForm),t.xp6(8),t.Q6J("ngForOf",e.perfil),t.xp6(6),t.Q6J("ngIf",e.formsErrors.usuNombres),t.xp6(6),t.Q6J("ngIf",e.formsErrors.usuApellidos),t.xp6(6),t.Q6J("ngIf",e.formsErrors.usuApellidos),t.xp6(6),t.Q6J("ngIf",e.formsErrors.usuApellidos),t.xp6(6),t.Q6J("ngIf",e.formsErrors.usuApellidos),t.xp6(6),t.Q6J("ngIf",e.formsErrors.usuApellidos),t.xp6(6),t.Q6J("ngIf",e.formsErrors.usuApellidos),t.xp6(6),t.Q6J("ngIf",e.formsErrors.usuEmail),t.xp6(1),t.Q6J("ngIf",e.itemForm.controls.usuEmail.hasError("cannotContainSpace")),t.xp6(1),t.Q6J("ngIf",0==e.id),t.xp6(9),t.Q6J("disabled",e.itemForm.invalid)}}const j=[{path:"",data:{title:"Usuario",urls:[]},children:[{path:"",component:(()=>{class o{constructor(e,i,u,m){this.httpService=e,this.modalService=i,this.fb=u,this.respuestaService=m,this.indexParameters=new Z.p,this.itemsSub=new g.w,this.items=[],this.search=new r.p4("",[]),this.formsErrors=[],this.itemSub=new g.w,this.anadirEditar="A\xf1adir",this.id=0}ngOnInit(){this.itemForm=this.fb.group({usuId:[0],perId:[null,r.kI.required],usuNombres:[null,r.kI.required],usuApellidos:[null,r.kI.required],usuCedula:[null,r.kI.required],usuDireccion:[null,r.kI.required],usuTelefono:[null,r.kI.required],usuSexo:[null,r.kI.required],usuFechaNacimiento:[null,r.kI.required],usuEmail:["",[r.kI.required,h.H.cannotContainSpace,r.kI.email]],usuPassword:["",h.H.cannotContainSpace],usuEstado:[!0]}),this.indexParameters.length=a.Kz.count,this.indexParameters.pageSize=a.Kz.quantity,this.indexParameters.quantity=a.Kz.quantity,this.indexParameters.pageIndex=a.Kz.page,this.indexParameters.modulo=a.qz.usuario.name,this.indexParameters.actionResult=void 0,this.search.valueChanges.pipe((0,v.b)(350)).subscribe(e=>{this.indexParameters.search=e&&e.trim()?e:void 0,this.getItems()}),this.getItems(),this.id=0,this.perfil=[]}ngOnDestroy(){this.itemsSub.unsubscribe(),this.itemSub.unsubscribe()}getItems(){this.itemsSub=this.httpService.getItems(this.indexParameters).subscribe(e=>{this.items=e?.data?.elementos,this.indexParameters.length=e?.data?.cantidadElementos,this.items&&0==this.items.length&&this.respuestaService.infoNohayDatosParaMostrar()})}changePagination(e){this.indexParameters.page=e,this.getItems()}openModal(e,i){this.modalService.open(e,{centered:!0,backdrop:"static"}),null!=i?(this.anadirEditar="Editar",this.getDataForm(i.usuId)):this.getDataForm(0)}logValidationErrors(e){}closeBtnClick(){this.modalService.dismissAll(),this.ngOnInit()}getDataForm(e){this.itemSub=this.httpService.GetDataForm(e,void 0,a.qz.usuario.name).subscribe(i=>{this.perfil=i.data?.perfil,i.data?.data&&(this.itemForm.patchValue(i.data?.data),this.id=i.data?.data.usuId,this.itemForm.patchValue({usuEstado:(0,a.kp)(i.data?.data.usuEstado),perId:i.data?.data.perId}))})}onSubmit(){this.itemForm.invalid?this.itemForm.markAllAsTouched():(this.itemForm.patchValue({usuNombres:(0,a.Av)(this.itemForm.value.usuNombres)}),this.itemForm.patchValue({usuApellidos:(0,a.Av)(this.itemForm.value.usuApellidos)}),this.itemForm.patchValue({usuEstado:(0,a.ID)(this.itemForm.value.usuEstado)}),0!=this.itemForm.value.usuId||null!=this.itemForm.value.usuPassword&&""!=this.itemForm.value.usuPassword?this.itemsSub=this.httpService.PostPut(this.itemForm.value,a.qz.usuario.name,!1,void 0,this.itemForm.value.usuId).subscribe(e=>{this.closeBtnClick(),this.respuestaService.successInsert()}):this.respuestaService.infoIngresarContrasena())}delete(e){let i=[];i.push(e),this.itemsSub=this.httpService.deleteItems(a.qz.usuario.name,void 0,i).subscribe(u=>{this.closeBtnClick(),this.respuestaService.successDatoEliminado()})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(x.O),t.Y36(c.FF),t.Y36(r.QS),t.Y36(T.g))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-usuario"]],decls:43,vars:5,consts:[[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-body"],[1,"col-md-6","col-lg-3","col-xl-2"],["type","text","type","text","name","search","placeholder","Buscar Usuario",1,"form-control","form-control-lg",3,"formControl"],[1,"col-md-6","col-lg-9","col-xl-10","text-md-right","mt-4","mt-md-0"],[1,"btn","btn-primary","ml-auto",3,"click"],[1,"col-12"],[1,"card","card-body"],[1,"table-responsive","table-bordered"],[1,"table","table-striped","mb-0","no-wrap","v-middle"],["scope","col"],[4,"ngFor","ngForOf"],[1,"justify-content-center","mt-2"],["maxSize","20","size","sm","rotate","true",3,"page","pageSize","collectionSize","pageChange"],["itemFormModal",""],["href","javascript: void(0);","placement","top","ngbTooltip","Editar",1,"link","mr-2",3,"click"],["name","edit-2",1,"feather-sm"],["href","javascript: void(0);","placement","top","ngbTooltip","Eliminar",1,"link",3,"click"],["name","trash-2",1,"feather-sm"],[1,"modal-header"],["id","itemFormLabel",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"formGroup","ngSubmit"],[1,"form-group","row"],["for","perId",1,"col-sm-4","col-form-label"],[1,"col-sm-8"],["formControlName","perId","id","perId",1,"custom-select"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","name",1,"col-sm-4","col-form-label"],["type","text","formControlName","usuNombres",1,"form-control","textoPrimeraLetraMinuscula"],["class","help-block",4,"ngIf"],["type","text","formControlName","usuApellidos",1,"form-control","textoPrimeraLetraMinuscula"],["type","text","formControlName","usuCedula",1,"form-control","textoPrimeraLetraMinuscula"],["type","text","formControlName","usuDireccion",1,"form-control","textoPrimeraLetraMinuscula"],["type","text","formControlName","usuTelefono",1,"form-control","textoPrimeraLetraMinuscula"],["type","text","formControlName","usuSexo",1,"form-control","textoPrimeraLetraMinuscula"],["type","date","formControlName","usuFechaNacimiento",1,"form-control"],["type","text","formControlName","usuEmail",1,"form-control"],["class","form-error-msg",4,"ngIf"],["class","form-group row",4,"ngIf"],[1,"custom-control","custom-checkbox","mr-sm-2"],["type","checkbox","id","checkbox1","formControlName","usuEstado",1,"custom-control-input"],["for","checkbox1",1,"custom-control-label"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"value"],[1,"help-block"],[1,"form-error-msg"],["type","text","formControlName","usuPassword",1,"form-control"]],template:function(e,i){if(1&e){const u=t.EpF();t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",0)(5,"div",4),t._UZ(6,"input",5),t.qZA(),t.TgZ(7,"div",6)(8,"button",7),t.NdJ("click",function(){t.CHM(u);const l=t.MAs(42);return t.KtG(i.openModal(l,null))}),t._uU(9,"A\xf1adir Usuario"),t.qZA()()()()()()(),t.TgZ(10,"div",0)(11,"div",8)(12,"div",9)(13,"div",10)(14,"table",11)(15,"thead")(16,"tr")(17,"th",12),t._uU(18,"Nombres"),t.qZA(),t.TgZ(19,"th",12),t._uU(20,"Apellidos"),t.qZA(),t.TgZ(21,"th",12),t._uU(22,"C\xe9dula"),t.qZA(),t.TgZ(23,"th",12),t._uU(24,"Direcci\xf3n"),t.qZA(),t.TgZ(25,"th",12),t._uU(26,"Tel\xe9fono"),t.qZA(),t.TgZ(27,"th",12),t._uU(28,"Sexo"),t.qZA(),t.TgZ(29,"th",12),t._uU(30,"Fecha Nacimiento"),t.qZA(),t.TgZ(31,"th",12),t._uU(32,"Correo el\xe9ctronico"),t.qZA(),t.TgZ(33,"th",12),t._uU(34,"Estado"),t.qZA(),t.TgZ(35,"th",12),t._uU(36,"Acciones"),t.qZA()()(),t.TgZ(37,"tbody"),t.YNc(38,U,24,9,"tr",13),t.qZA()()(),t.TgZ(39,"div",14)(40,"ngb-pagination",15),t.NdJ("pageChange",function(l){return i.indexParameters.pageIndex=l})("pageChange",function(l){return i.changePagination(l)}),t.qZA()()()()(),t.YNc(41,M,76,14,"ng-template",null,16,t.W1O)}2&e&&(t.xp6(6),t.Q6J("formControl",i.search),t.xp6(32),t.Q6J("ngForOf",i.items),t.xp6(2),t.Q6J("page",i.indexParameters.pageIndex)("pageSize",i.indexParameters.pageSize)("collectionSize",i.indexParameters.length))},dependencies:[p.sg,p.O5,r._Y,r.YN,r.Kr,r.Fj,r.Wl,r.EJ,r.JJ,r.JL,r.oH,r.sg,r.u,c.N9,c._L,f.uy],styles:[".viewport[_ngcontent-%COMP%]  video{width:100%;height:240px;-o-object-fit:cover;object-fit:cover}.tabla-detalle-popup[_ngcontent-%COMP%]{width:100%;text-align:left!important}.image[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{width:50%!important}.textoPrimeraLetraMinuscula[_ngcontent-%COMP%]{text-transform:capitalize}"]}),o})()}]}];var w=s(6311),Y=s(6013),z=s(5074);let Q=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({providers:[Y.lG],imports:[p.ez,r.UX,c.IJ,c.bz,_.Bz.forChild(j),r.u5,w.Xd,f.p1.pick(z.kEt)]}),o})()}}]);