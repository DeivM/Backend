"use strict";(self.webpackChunkxtreme_admin_angular=self.webpackChunkxtreme_admin_angular||[]).push([[304],{2304:(E,p,i)=>{i.r(p),i.d(p,{MenuModule:()=>N});var d=i(6895),r=i(4006),f=i(911),v=i(9340),g=i(2654),_=i(4691),m=i(6137),Z=i(13),e=i(4650),u=i(3609),b=i(861),h=i(6541);let x=(()=>{class o{constructor(){}onKeyDown(t){const n=t;-1!==[46,8,9,27,13].indexOf(n.keyCode)||65==n.keyCode&&!0===n.ctrlKey||67==n.keyCode&&!0===n.ctrlKey||86==n.keyCode&&!0===n.ctrlKey||88==n.keyCode&&!0===n.ctrlKey||n.keyCode>=35&&n.keyCode<=39||(n.shiftKey||n.keyCode<48||n.keyCode>57)&&(n.keyCode<96||n.keyCode>105)&&n.preventDefault()}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275dir=e.lG2({type:o,selectors:[["","appMaskIntegerPositivo",""]],hostBindings:function(t,n){1&t&&e.NdJ("keydown",function(l){return n.onKeyDown(l)})}}),o})();function C(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td")(14,"a",17),e.NdJ("click",function(){const l=e.CHM(t).$implicit,c=e.oxw(),q=e.MAs(37);return e.KtG(c.openModal(q,l))}),e._UZ(15,"i-feather",18),e.qZA(),e.TgZ(16,"a",19),e.NdJ("click",function(){const l=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.delete(l.menId))}),e._UZ(17,"i-feather",20),e.qZA()()()}if(2&o){const t=a.$implicit;e.xp6(2),e.hij("",t.menNombrePadre," "),e.xp6(2),e.hij("",t.menNombre," "),e.xp6(2),e.hij("",t.menUrl," "),e.xp6(2),e.hij("",t.menIcono," "),e.xp6(2),e.hij("",t.menOrden," "),e.xp6(2),e.hij("",t.menEstado?"Activo":"Inactivo"," ")}}function M(o,a){if(1&o&&(e.TgZ(0,"option",45),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",null==t?null:t.nombre,"")}}function T(o,a){if(1&o&&(e.TgZ(0,"span",46),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.formsErrors.menNombre," ")}}function A(o,a){if(1&o&&(e.TgZ(0,"span",46),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.formsErrors.menUrl," ")}}function y(o,a){if(1&o&&(e.TgZ(0,"span",46),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.formsErrors.menIcono," ")}}function k(o,a){if(1&o&&(e.TgZ(0,"span",46),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.formsErrors.menOrden," ")}}function U(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",21)(1,"h5",22),e._uU(2),e.qZA(),e.TgZ(3,"button",23),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.closeBtnClick())}),e.TgZ(4,"span",24),e._uU(5,"\xd7"),e.qZA()()(),e.TgZ(6,"div",25)(7,"form",26),e.NdJ("ngSubmit",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onSubmit())}),e.TgZ(8,"div",27)(9,"label",28),e._uU(10,"Menu padre "),e.qZA(),e.TgZ(11,"div",29)(12,"select",30)(13,"option",31),e._uU(14,"Seleccionar "),e.qZA(),e.YNc(15,M,2,2,"option",32),e.qZA()()(),e.TgZ(16,"div",27)(17,"label",33),e._uU(18,"Nombre *"),e.qZA(),e.TgZ(19,"div",29),e._UZ(20,"input",34),e.YNc(21,T,2,1,"span",35),e.qZA()(),e.TgZ(22,"div",27)(23,"label",33),e._uU(24,"Link "),e.qZA(),e.TgZ(25,"div",29),e._UZ(26,"input",36),e.YNc(27,A,2,1,"span",35),e.qZA()(),e.TgZ(28,"div",27)(29,"label",33),e._uU(30,"Icono "),e.qZA(),e.TgZ(31,"div",29),e._UZ(32,"input",37),e.YNc(33,y,2,1,"span",35),e.qZA()(),e.TgZ(34,"div",27)(35,"label",33),e._uU(36,"Orden"),e.qZA(),e.TgZ(37,"div",29),e._UZ(38,"input",38),e.YNc(39,k,2,1,"span",35),e.qZA()(),e.TgZ(40,"div",27)(41,"div",39),e._UZ(42,"input",40),e.TgZ(43,"label",41),e._uU(44,"Activo"),e.qZA()()(),e.TgZ(45,"div",42)(46,"button",43),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.closeBtnClick())}),e._uU(47,"Cerrar"),e.qZA(),e.TgZ(48,"button",44),e._uU(49,"Guardar"),e.qZA()()()()}if(2&o){const t=e.oxw();e.xp6(2),e.hij("",t.anadirEditar," Menu"),e.xp6(5),e.Q6J("formGroup",t.itemForm),e.xp6(8),e.Q6J("ngForOf",t.menuPadre),e.xp6(6),e.Q6J("ngIf",t.formsErrors.menNombre),e.xp6(6),e.Q6J("ngIf",t.formsErrors.menUrl),e.xp6(6),e.Q6J("ngIf",t.formsErrors.menIcono),e.xp6(6),e.Q6J("ngIf",t.formsErrors.menOrden),e.xp6(9),e.Q6J("disabled",t.itemForm.invalid)}}const I=[{path:"",data:{title:"Menu",urls:[]},children:[{path:"",component:(()=>{class o{constructor(t,n,s,l){this.httpService=t,this.modalService=n,this.fb=s,this.respuestaService=l,this.indexParameters=new v.p,this.itemsSub=new g.w,this.items=[],this.search=new r.p4("",[]),this.formsErrors=[],this.itemSub=new g.w,this.anadirEditar="A\xf1adir",this.page=1,this.pageSize=5}ngOnInit(){this.itemForm=this.fb.group({menId:[0],menMenId:[null],menNombre:[null,r.kI.required],menUrl:[null],menIcono:[""],menOrden:[null,r.kI.required],menEstado:[!0]}),this.indexParameters.length=m.Kz.count,this.indexParameters.pageSize=m.Kz.quantity,this.indexParameters.quantity=m.Kz.quantity,this.indexParameters.pageIndex=m.Kz.page,this.indexParameters.modulo=m.qz.menu.name,this.indexParameters.actionResult=void 0,this.search.valueChanges.pipe((0,Z.b)(350)).subscribe(t=>{this.indexParameters.search=t&&t.trim()?t:void 0,this.getItems()}),this.getItems(),this.menuPadre=[]}ngOnDestroy(){this.itemsSub.unsubscribe(),this.itemSub.unsubscribe()}getItems(){this.itemsSub=this.httpService.getItems(this.indexParameters).subscribe(t=>{this.items=t?.data?.elementos,this.indexParameters.length=t?.data?.cantidadElementos,this.items&&0==this.items.length&&this.respuestaService.infoNohayDatosParaMostrar()})}changePagination(t){this.indexParameters.page=t,this.getItems()}openModal(t,n){this.modalService.open(t,{centered:!0,backdrop:"static"}),null!=n?(this.anadirEditar="Editar",this.getDataForm(n.menId)):this.getDataForm(0)}logValidationErrors(t){}closeBtnClick(){this.modalService.dismissAll(),this.ngOnInit()}getDataForm(t){this.itemSub=this.httpService.GetDataForm(t,void 0,m.qz.menu.name).subscribe(n=>{this.menuPadre=n.data?.menuPadre,n.data?.data&&(this.itemForm.patchValue(n.data?.data),this.itemForm.patchValue({menEstado:(0,m.kp)(n.data?.data.menEstado)}))})}onSubmit(){this.itemForm.invalid?this.itemForm.markAllAsTouched():(this.itemForm.patchValue({menNombre:(0,m.Av)(this.itemForm.value.menNombre)}),this.itemForm.patchValue({menEstado:(0,m.ID)(this.itemForm.value.menEstado)}),this.itemsSub=this.httpService.PostPut(this.itemForm.value,m.qz.menu.name,!1,void 0,this.itemForm.value.menId).subscribe(t=>{this.closeBtnClick(),this.respuestaService.successInsert()}))}delete(t){let n=[];n.push(t),this.itemsSub=this.httpService.deleteItems(m.qz.menu.name,void 0,n).subscribe(s=>{this.closeBtnClick(),this.respuestaService.successDatoEliminado()})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(_.O),e.Y36(u.FF),e.Y36(r.QS),e.Y36(b.g))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-menu"]],decls:38,vars:9,consts:[[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-body"],[1,"col-md-6","col-lg-3","col-xl-2"],["type","text","type","text","name","search","placeholder","Buscar Menu",1,"form-control","form-control-lg",3,"formControl"],[1,"col-md-6","col-lg-9","col-xl-10","text-md-right","mt-4","mt-md-0"],[1,"btn","btn-primary","ml-auto",3,"click"],[1,"col-12"],[1,"card","card-body"],[1,"table-responsive","table-bordered"],[1,"table","table-striped","mb-0","no-wrap","v-middle"],["scope","col"],[4,"ngFor","ngForOf"],[1,"justify-content-center","mt-2"],[3,"collectionSize","page","pageSize","pageChange"],["itemFormModal",""],["href","javascript: void(0);","placement","top","ngbTooltip","Editar",1,"link","mr-2",3,"click"],["name","edit-2",1,"feather-sm"],["href","javascript: void(0);","placement","top","ngbTooltip","Eliminar",1,"link",3,"click"],["name","trash-2",1,"feather-sm"],[1,"modal-header"],["id","itemFormLabel",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"formGroup","ngSubmit"],[1,"form-group","row"],["for","menMenId",1,"col-sm-4","col-form-label"],[1,"col-sm-8"],["formControlName","menMenId","id","menMenId",1,"custom-select"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","name",1,"col-sm-4","col-form-label"],["type","text","formControlName","menNombre",1,"form-control","textoPrimeraLetraMinuscula"],["class","help-block",4,"ngIf"],["type","text","formControlName","menUrl",1,"form-control"],["type","text","formControlName","menIcono",1,"form-control"],["type","text","formControlName","menOrden","appMaskIntegerPositivo","",1,"form-control"],[1,"custom-control","custom-checkbox","mr-sm-2"],["type","checkbox","id","checkbox1","formControlName","menEstado",1,"custom-control-input"],["for","checkbox1",1,"custom-control-label"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"value"],[1,"help-block"]],template:function(t,n){if(1&t){const s=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",0)(5,"div",4),e._UZ(6,"input",5),e.qZA(),e.TgZ(7,"div",6)(8,"button",7),e.NdJ("click",function(){e.CHM(s);const c=e.MAs(37);return e.KtG(n.openModal(c,null))}),e._uU(9,"A\xf1adir Menu"),e.qZA()()()()()()(),e.TgZ(10,"div",0)(11,"div",8)(12,"div",9)(13,"div",10)(14,"table",11)(15,"thead")(16,"tr")(17,"th",12),e._uU(18,"Menu padre"),e.qZA(),e.TgZ(19,"th",12),e._uU(20,"Nombre"),e.qZA(),e.TgZ(21,"th",12),e._uU(22,"Link"),e.qZA(),e.TgZ(23,"th",12),e._uU(24,"Icono"),e.qZA(),e.TgZ(25,"th",12),e._uU(26,"Orden"),e.qZA(),e.TgZ(27,"th",12),e._uU(28,"Estado"),e.qZA(),e.TgZ(29,"th",12),e._uU(30,"Acciones"),e.qZA()()(),e.TgZ(31,"tbody"),e.YNc(32,C,18,6,"tr",13),e.ALo(33,"slice"),e.qZA()()(),e.TgZ(34,"div",14)(35,"ngb-pagination",15),e.NdJ("pageChange",function(c){return n.page=c}),e.qZA()()()()(),e.YNc(36,U,50,8,"ng-template",null,16,e.W1O)}2&t&&(e.xp6(6),e.Q6J("formControl",n.search),e.xp6(26),e.Q6J("ngForOf",e.Dn7(33,5,n.items,(n.page-1)*n.pageSize,(n.page-1)*n.pageSize+n.pageSize)),e.xp6(3),e.Q6J("collectionSize",n.items.length)("page",n.page)("pageSize",n.pageSize))},dependencies:[d.sg,d.O5,r._Y,r.YN,r.Kr,r.Fj,r.Wl,r.EJ,r.JJ,r.JL,r.oH,r.sg,r.u,u.N9,u._L,h.uy,x,d.OU],styles:[".viewport[_ngcontent-%COMP%]  video{width:100%;height:240px;-o-object-fit:cover;object-fit:cover}.tabla-detalle-popup[_ngcontent-%COMP%]{width:100%;text-align:left!important}.image[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{width:50%!important}.textoPrimeraLetraMinuscula[_ngcontent-%COMP%]{text-transform:capitalize}"]}),o})()}]}];var S=i(6311),P=i(6013),F=i(5074);let N=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({providers:[P.lG],imports:[d.ez,r.UX,u.IJ,u.bz,f.Bz.forChild(I),r.u5,S.Xd,h.p1.pick(F.kEt)]}),o})()}}]);